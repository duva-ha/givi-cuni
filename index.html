import React, { useState } from 'react';
import { 
  LayoutDashboard, Users, BookOpen, 
  Wallet, Calendar, Settings, Bell 
} from 'lucide-react';

const Dashboard = () => {
  const [activeTab, setActiveTab] = useState('overview');

  // Dữ liệu lớp học 10A7 dựa trên thông tin quản lý của bạn
  const classInfo = { 
    name: "10A7", 
    studentCount: 47, // 47 học sinh
    groups: 6,        // Chia thành 6 tổ
    dutyToday: "Tổ 3" 
  };

  return (
    <div style={styles.container}>
      {/* Sidebar - Thanh điều hướng bên trái */}
      <aside style={styles.sidebar}>
        <h2 style={styles.logo}>Giviso Teacher</h2>
        <nav>
          <NavItem 
            icon={<LayoutDashboard size={20}/>} 
            label="Tổng quan" 
            active={activeTab === 'overview'} 
            onClick={() => setActiveTab('overview')} 
          />
          <NavItem 
            icon={<Users size={20}/>} 
            label="Học sinh (10A7)" 
            active={activeTab === 'students'} 
            onClick={() => setActiveTab('students')} 
          />
          <NavItem 
            icon={<Calendar size={20}/>} 
            label="Trực nhật & Điểm danh" 
            active={activeTab === 'duty'} 
            onClick={() => setActiveTab('duty')} 
          />
          <NavItem 
            icon={<BookOpen size={20}/>} 
            label="Học liệu AR/Quiz" 
            active={activeTab === 'resources'} 
            onClick={() => setActiveTab('resources')} 
          />
          <NavItem 
            icon={<Wallet size={20}/>} 
            label="Quỹ lớp" 
            active={activeTab === 'finance'} 
            onClick={() => setActiveTab('finance')} 
          />
          <NavItem 
            icon={<Settings size={20}/>} 
            label="Cài đặt" 
            active={activeTab === 'settings'} 
            onClick={() => setActiveTab('settings')} 
          />
        </nav>
      </aside>

      {/* Main Content - Nội dung chính bên phải */}
      <main style={styles.main}>
        <header style={styles.header}>
          <h1>Chào buổi sáng, Thầy!</h1>
          <p>Lớp chủ nhiệm: <strong>{classInfo.name}</strong></p>
        </header>

        {/* Thẻ thống kê nhanh */}
        <div style={styles.statGrid}>
          <StatCard title="Sĩ số" value={classInfo.studentCount} color="#3b82f6" />
          <StatCard title="Số tổ" value={classInfo.groups} color="#10b981" />
          <StatCard title="Trực nhật hôm nay" value={classInfo.dutyToday} color="#f59e0b" />
        </div>

        {/* Khu vực hiển thị nội dung động */}
        <div style={styles.contentArea}>
          {activeTab === 'overview' ? (
            <div style={styles.card}>
              <h3 style={{display: 'flex', alignItems: 'center', gap: '8px'}}>
                <Bell size={20} color="#ef4444" /> Thông báo quan trọng
              </h3>
              <hr />
              <p>Lưu ý: Tuần sau có lịch kiểm tra tập trung môn <strong>Công nghệ lớp 10</strong>.</p>
              <p style={{color: '#666', fontSize: '0.9rem'}}>Hệ thống quản lý thông minh cho lớp {classInfo.name} đang sẵn sàng.</p>
            </div>
          ) : (
            <div style={styles.card}>
              <h3>Module "{activeTab}" đang được phát triển...</h3>
              <p>Thầy vui lòng quay lại sau để cập nhật tính năng mới cho dự án Giviso.</p>
            </div>
          )}
        </div>
      </main>
    </div>
  );
};

// Component con cho từng mục Menu
const NavItem = ({ icon, label, active, onClick }) => (
  <div 
    onClick={onClick}
    style={{
      ...styles.navItem,
      backgroundColor: active ? '#e0f2fe' : 'transparent',
      color: active ? '#0284c7' : '#4b5563',
      fontWeight: active ? '600' : '400'
    }}
  >
    {icon} <span>{label}</span>
  </div>
);

// Component con cho thẻ thống kê
const StatCard = ({ title, value, color }) => (
  <div style={{...styles.statCard, borderTop: `4px solid ${color}`}}>
    <span style={styles.statTitle}>{title}</span>
    <span style={styles.statValue}>{value}</span>
  </div>
);

// CSS đơn giản để chạy ngay
const styles = {
  container: { display: 'flex', minHeight: '100vh', backgroundColor: '#f3f4f6', fontFamily: 'sans-serif' },
  sidebar: { width: '260px', backgroundColor: 'white', borderRight: '1px solid #e5e7eb', padding: '20px' },
  logo: { color: '#2563eb', marginBottom: '30px', fontSize: '1.5rem' },
  navItem: { display: 'flex', alignItems: 'center', gap: '12px', padding: '12px', borderRadius: '8px', cursor: 'pointer', marginBottom: '4px', transition: '0.2s' },
  main: { flex: 1, padding: '40px' },
  header: { marginBottom: '30px' },
  statGrid: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '20px', marginBottom: '30px' },
  statCard: { backgroundColor: 'white', padding: '20px', borderRadius: '12px', display: 'flex', flexDirection: 'column', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' },
  statTitle: { color: '#6b7280', fontSize: '0.875rem', marginBottom: '8px' },
  statValue: { fontSize: '1.5rem', fontWeight: 'bold' },
  contentArea: { marginTop: '20px' },
  card: { backgroundColor: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }
};

export default Dashboard;
